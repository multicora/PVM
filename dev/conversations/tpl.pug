.watchVideoContainer(ng-click="vm.contentClick()")
  header.user-header(ng-if="vm.showUserHeader")
    .logoContainer
      .logo
        //- DEFAULT LOGO
        .default-logo(ng-if="!vm.conversation.logo || vm.conversation.logo === null || vm.conversation.logo === 'undefined'")
          span.logoText Powered by
          img(src='/files/images/logo_bizkonect.svg'
            alt='logo')

        //- USER LOGO
        .logo-user(
          ng-if="vm.conversation.logo && vm.conversation.logo != null && vm.conversation.logo != 'undefined'"
          ng-style="{backgroundImage: 'url('+ vm.conversation.logo + ')' }")

    .socialContainer
      //- .social
      //-   a.linkedin(href='')
      //-     img(src='/files/images/linkedin.png', alt='linkedin')
      //-   a.twitter(href='')
      //-     img(src='/files/images/twitter.png', alt='twitter')
      //-   a.facebook(href='')
      //-     img(src='files/images/facebook.png', alt='facebook')
      .contacts
        .phone
          img(src='/files/images/phone.png', alt='phone')
          p {{vm.conversation.authorPhone}}
        .email
          img(src='/files/images/email.png', alt='email')
          p {{vm.conversation.authorEmail}}
  header.default-header(ng-if="!vm.showUserHeader")
    button.btn.mdl-button.mdl-js-button.mdl-button--raised.back(ng-click="vm.back($event)")
      |Back
    p.title(ng-if="!vm.conversation.email || vm.conversation.email === 'null' || vm.conversation.email === 'undefined'") Public conversation
    p.title(ng-if="vm.conversation.email && vm.conversation.email != 'null' && vm.conversation.email != 'undefined'") Conversation with 
      span.email {{vm.conversation.email}}
  .content
    //- TITLE
    .title-container
      p.title
        span(ng-if="vm.conversation.title && vm.conversation.title != null && vm.conversation.title != 'undefined'") {{vm.conversation.title}}

    .video
      .videoHeader.showHeader(ng-class="vm.headerClass")
        .photo(
          ng-if="vm.conversation.authorPhoto && vm.conversation.authorPhoto != null"
          ng-style="{backgroundImage: 'url('+ vm.conversation.authorPhoto + ')' }")
        //- USER NAME
        .text
          p.user-name
            span(ng-if="vm.conversation.name && vm.conversation.name != null") {{vm.conversation.name}}
          //- USER ROLE
          p.user-role
            span(ng-if="vm.conversation.company_role && vm.conversation.company_role != null") {{vm.conversation.company_role}}
      .videoContent(ng-click="vm.videoContentClick($event)")
        video.video-js.vjs-default-skin(
          vjs-video
          controls
          preload="auto"
          vjs-media="vm.media")
      .videoFooter
        .chat-container(ng-if="vm.conversation.message")
          .message-container(ng-class="vm.messageClassName")
            .photo(ng-style="{backgroundImage: 'url('+ vm.conversation.authorPhoto + ')' }")
            .message
              p {{vm.conversation.message}}
              .files-container(ng-if="vm.conversation.files")
                a.file(
                  ng-repeat="item in vm.conversation.files"
                  download="{{item.name}}"
                  ng-href="{{item.url}}"
                  ng-click="vm.onFileClick()")
                  i.material-icons.file-icon insert_drive_file
                  p.file-name.ellipsis {{item.name}}

        chat-list(list="vm.chatList")

      chat-reply-box(send-message="vm.sendMessage($data)")

  footer
    .logo-container
      span.powered Powered by
      img.logo(src='/files/images/logo_bizkonect.svg', alt='Bizkonect')
    .rights 2016 All rights reserved

  //- Feedback form
  feedback.conversation

  //- LOGIN POPUP
  popup.login-popup-container(
    ng-if="vm.showLoginPopup"
    close-popup="vm.closeLoginPopup()") 
    form.login-form(layout="column")
      p.popup-title Sign in
      md-input-container
        label Login
        input(
          ng-model="login"
          required)
      md-input-container
        label Password
        input(
          type="password"
          ng-model="password"
          required)
      p.error(ng-if="vm.loginErrorMessage") Login failed: {{vm.loginErrorMessage}}

      .button-container
        a.pointer.forgot-password-btn(ng-click="redirect('/reset-password')") Forgot password
        button.mdl-button.mdl-js-button.mdl-js-ripple-effect.login-btn(
          ng-click="vm.authenticate(login, password)")
          | login
